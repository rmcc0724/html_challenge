{"changed":true,"filter":false,"title":"Untitled1","tooltip":"/Untitled1","value":"var bankController = (function() {\n    let data = {\n        dice: {\n            die1: 0,\n            die2: 0,\n        },\n        bet: 0,\n        bank: 100,\n        point: \"Off\",\n        message : \"\"\n    };\n    let placeBet = (bet) => {\n        if (data.bank > 0 && bet <= data.bank) {\n            data.bank -= bet;\n            data.bet += bet;\n            console.log(\"Player has placed a bet of \" + bet + \" with a total bet of \" + data.bet + \" and bank of \" + data.bank);\n        }\n        else {\n            console.log(\"You don't have enough money!\");\n        }\n    };\n    let rollDice = () => {\n        if (data.bet > 0) {\n            data.dice.die1 = Math.floor(Math.random() * 6) + 1;\n            data.dice.die2 = Math.floor(Math.random() * 6) + 1;\n            console.log(data.dice.die1);\n            console.log(data.dice.die2);\n        }\n        else {\n            console.log(\"You need to place a bet first\");\n        }\n    };\n    let playerWins = () => {\n        data.bank += data.bet * 2;\n        console.log(\"Player Wins because you rolled a \" + getDiceTotal() + \" when the point was \" + getPoint() + \"\\nThe player has the amount of \" + getBank() + \" left.\");\n        console.log(data.bank);\n        data.bet = 0;\n        setPoint(\"Off\");\n    };\n    let playerLoses = () => {\n        console.log(\"Player Loses because you rolled a \" + getDiceTotal() + \" when the point was \" + getPoint() + \"\\nThe player has the amount of \" + getBank() + \" left.\");\n        data.bet = 0;\n        setPoint(\"Off\");\n    };\n    let setPoint = (point) => {\n        data.point = point;\n        if (getPoint() === \"Off\") {\n            console.log(\"Your point is now set to \" + getPoint() + \" and you must roll a 7 or 11 to win, if you roll 2, 3, or 12 you lose, all else becomes your point.\");\n        }\n        else {\n            console.log(\"Your point is now set to \" + getPoint() + \" and you must roll that to win. If you roll a 7 prior to that you lose.\");\n        }\n    };\n    let resetGame = () => {\n        data = {\n            dice: {\n                die1: 0,\n                die2: 0,\n            },\n            bet: 0,\n            bank: 100,\n            point: \"Off\"\n        };\n        setPoint(\"Off\");\n        console.log(\"Game Reset\");\n    };\n    let resetDice = () => (data.dice.die1 = 0, data.dice.die2 = 0);\n    let getDiceTotal = () => parseInt(data.dice.die1) + parseInt(data.dice.die2);\n    let getBank = () => data.bank;\n    let getBet = () => data.bet;\n    let getPoint = () => data.point;\n    let checkWinner = () => {\n        getBet() > 0 ? rollDice() : console.log(\"You must first place a bet!!\");\n        if (getBet() > 0) {\n            if (getPoint() === \"Off\") {\n                getDiceTotal() === 2 || getDiceTotal() === 3 || getDiceTotal() === 12 ? playerLoses() :\n                    getDiceTotal() === 7 || getDiceTotal() === 11 ? playerWins() : setPoint(getDiceTotal());\n            }\n            else {\n                getDiceTotal() === 7 ? playerLoses() : getDiceTotal() === getPoint() ? playerWins() : (console.log(\"Roll Again but dont crap out. You rolled a \" + getDiceTotal() + \"\\nTry to hit \" + getPoint()));\n\n            }\n        }\n        resetDice();\n    };\n    return {\n        resetGamePublic: () => resetGame(),\n        placeBetPublic: (bet) => placeBet(bet),\n        rollDicePublic: (bet) => rollDice(),\n        checkWinnerPublic: () => checkWinner(),\n        getBankPublic: () => getBank(),\n        getBetPublic: () => getBet(),\n        getPointPublic: () => getPoint(),\n        getDiceTotalPublic: () => getDiceTotal(),\n    };\n})();\n\n\n// UI CONTROLLER\nlet UIController = (function() {\n\n    var DOMstrings = {\n        die1Image: '.die__1_image',\n        die2Image: '.die__2_image',\n        die1: '.die__1',\n        die2: '.die__2',\n        pointValue: '.point_value',\n        betValue: '.bet_value',\n        bankValue: '.bank_value',\n        bet5Btn: '.bet5__btn',\n        rollDiceBtn: '.rolldice__btn',\n        resetBtn: '.reset__btn',\n        textArea: '.text__area'\n    };\n\n    var placeBet = (bet) => {\n        document.getElementById(\"bet\").innerHTML = bet;\n    };\n\n    var updateBank = (bank) => {\n        document.getElementById(\"bank\").innerHTML = bank;\n    };\n\n    var updatePoint = (point) => {\n        document.getElementById(\"point\").innerHTML = point;\n    };\n    \n    var updateDice = (die1, die2) => {\n        document.getElementById(\"die-1-img\").src = \"dice-\" + die1 + \".png\"\n        document.getElementById(\"die-2-img\").src = \"dice-\" + die2 + \".png\"        \n        document.getElementById(\"score-1\").src = die1;\n        document.getElementById(\"score-2\").src = die2;\n    };\n    \n    var updatePoint = (point) => {\n        document.getElementById(\"point\").innerHTML = point;\n    };\n\n    return {\n        getDOMstrings: () => DOMstrings,\n        placeBetPublic: (bet) => placeBet(bet),\n        updateBankPublic: (bank) => updateBank(bank),\n        updatePointPublic: (point) => updatePoint(point)\n    };\n})();\n\nlet controller = (function(bankCtrl, UICtrl) {\n\n    let setupEventListeners = function() {\n        var DOM = UICtrl.getDOMstrings();\n\n        document.querySelector(DOM.bet5Btn).addEventListener('click', ctrlBet5);\n        document.querySelector(DOM.rollDiceBtn).addEventListener('click', ctrlRollDice);\n        document.querySelector(DOM.resetBtn).addEventListener('click', ctrlReset);\n    };\n    let ctrlBet5 = () => {\n        //1. When the bet 5 button is clicked we call the public placeBet function\n        bankCtrl.placeBetPublic();\n\n        //2. We update the UI controller using the public getBet function\n        UICtrl.placeBet(bankCtrl.getBetPublic());\n\n    };\n\n    return {\n        init: function() {\n            console.log('Application has started.');\n        }\n    };\n\n})(bankController, UIController);\n\ncontroller.init();\n","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":173,"column":0},"action":"insert","lines":["var bankController = (function() {","    let data = {","        dice: {","            die1: 0,","            die2: 0,","        },","        bet: 0,","        bank: 100,","        point: \"Off\",","        message : \"\"","    };","    let placeBet = (bet) => {","        if (data.bank > 0 && bet <= data.bank) {","            data.bank -= bet;","            data.bet += bet;","            console.log(\"Player has placed a bet of \" + bet + \" with a total bet of \" + data.bet + \" and bank of \" + data.bank);","        }","        else {","            console.log(\"You don't have enough money!\");","        }","    };","    let rollDice = () => {","        if (data.bet > 0) {","            data.dice.die1 = Math.floor(Math.random() * 6) + 1;","            data.dice.die2 = Math.floor(Math.random() * 6) + 1;","            console.log(data.dice.die1);","            console.log(data.dice.die2);","        }","        else {","            console.log(\"You need to place a bet first\");","        }","    };","    let playerWins = () => {","        data.bank += data.bet * 2;","        console.log(\"Player Wins because you rolled a \" + getDiceTotal() + \" when the point was \" + getPoint() + \"\\nThe player has the amount of \" + getBank() + \" left.\");","        console.log(data.bank);","        data.bet = 0;","        setPoint(\"Off\");","    };","    let playerLoses = () => {","        console.log(\"Player Loses because you rolled a \" + getDiceTotal() + \" when the point was \" + getPoint() + \"\\nThe player has the amount of \" + getBank() + \" left.\");","        data.bet = 0;","        setPoint(\"Off\");","    };","    let setPoint = (point) => {","        data.point = point;","        if (getPoint() === \"Off\") {","            console.log(\"Your point is now set to \" + getPoint() + \" and you must roll a 7 or 11 to win, if you roll 2, 3, or 12 you lose, all else becomes your point.\");","        }","        else {","            console.log(\"Your point is now set to \" + getPoint() + \" and you must roll that to win. If you roll a 7 prior to that you lose.\");","        }","    };","    let resetGame = () => {","        data = {","            dice: {","                die1: 0,","                die2: 0,","            },","            bet: 0,","            bank: 100,","            point: \"Off\"","        };","        setPoint(\"Off\");","        console.log(\"Game Reset\");","    };","    let resetDice = () => (data.dice.die1 = 0, data.dice.die2 = 0);","    let getDiceTotal = () => parseInt(data.dice.die1) + parseInt(data.dice.die2);","    let getBank = () => data.bank;","    let getBet = () => data.bet;","    let getPoint = () => data.point;","    let checkWinner = () => {","        getBet() > 0 ? rollDice() : console.log(\"You must first place a bet!!\");","        if (getBet() > 0) {","            if (getPoint() === \"Off\") {","                getDiceTotal() === 2 || getDiceTotal() === 3 || getDiceTotal() === 12 ? playerLoses() :","                    getDiceTotal() === 7 || getDiceTotal() === 11 ? playerWins() : setPoint(getDiceTotal());","            }","            else {","                getDiceTotal() === 7 ? playerLoses() : getDiceTotal() === getPoint() ? playerWins() : (console.log(\"Roll Again but dont crap out. You rolled a \" + getDiceTotal() + \"\\nTry to hit \" + getPoint()));","","            }","        }","        resetDice();","    };","    return {","        resetGamePublic: () => resetGame(),","        placeBetPublic: (bet) => placeBet(bet),","        rollDicePublic: (bet) => rollDice(),","        checkWinnerPublic: () => checkWinner(),","        getBankPublic: () => getBank(),","        getBetPublic: () => getBet(),","        getPointPublic: () => getPoint(),","        getDiceTotalPublic: () => getDiceTotal(),","    };","})();","","","// UI CONTROLLER","let UIController = (function() {","","    var DOMstrings = {","        die1Image: '.die__1_image',","        die2Image: '.die__2_image',","        die1: '.die__1',","        die2: '.die__2',","        pointValue: '.point_value',","        betValue: '.bet_value',","        bankValue: '.bank_value',","        bet5Btn: '.bet5__btn',","        rollDiceBtn: '.rolldice__btn',","        resetBtn: '.reset__btn',","        textArea: '.text__area'","    };","","    var placeBet = (bet) => {","        document.getElementById(\"bet\").innerHTML = bet;","    };","","    var updateBank = (bank) => {","        document.getElementById(\"bank\").innerHTML = bank;","    };","","    var updatePoint = (point) => {","        document.getElementById(\"point\").innerHTML = point;","    };","    ","    var updateDice = (die1, die2) => {","        document.getElementById(\"die-1-img\").src = \"dice-\" + die1 + \".png\"","        document.getElementById(\"die-2-img\").src = \"dice-\" + die2 + \".png\"        ","        document.getElementById(\"score-1\").src = die1;","        document.getElementById(\"score-2\").src = die2;","    };","    ","    var updatePoint = (point) => {","        document.getElementById(\"point\").innerHTML = point;","    };","","    return {","        getDOMstrings: () => DOMstrings,","        placeBetPublic: (bet) => placeBet(bet),","        updateBankPublic: (bank) => updateBank(bank),","        updatePointPublic: (point) => updatePoint(point)","    };","})();","","let controller = (function(bankCtrl, UICtrl) {","","    let setupEventListeners = function() {","        var DOM = UICtrl.getDOMstrings();","","        document.querySelector(DOM.bet5Btn).addEventListener('click', ctrlBet5);","        document.querySelector(DOM.rollDiceBtn).addEventListener('click', ctrlRollDice);","        document.querySelector(DOM.resetBtn).addEventListener('click', ctrlReset);","    };","    let ctrlBet5 = () => {","        //1. When the bet 5 button is clicked we call the public placeBet function","        bankCtrl.placeBetPublic();","","        //2. We update the UI controller using the public getBet function","        UICtrl.placeBet(bankCtrl.getBetPublic());","","    };","","    return {","        init: function() {","            console.log('Application has started.');","        }","    };","","})(bankController, UIController);","","controller.init();",""],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":173,"column":0},"end":{"row":173,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":131,"state":"start","mode":"ace/mode/text"}},"timestamp":1548817698684}